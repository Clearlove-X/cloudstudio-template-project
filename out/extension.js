!function(t,e){for(var n in e)t[n]=e[n]}(exports,function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=20)}([function(t,e){t.exports=require("path")},function(t,e,n){var r,i,o=n(5),c=n(26),s=n(27),u=n(28),a=n(9);"function"==typeof Symbol&&"function"==typeof Symbol.for?(r=Symbol.for("graceful-fs.queue"),i=Symbol.for("graceful-fs.previous")):(r="___graceful-fs.queue",i="___graceful-fs.previous");var f=function(){};if(a.debuglog?f=a.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(f=function(){var t=a.format.apply(a,arguments);t="GFS4: "+t.split(/\n/).join("\nGFS4: "),console.error(t)}),!global[r]){var l=[];Object.defineProperty(global,r,{get:function(){return l}}),o.close=function(t){function e(e,n){return t.call(o,e,(function(t){t||h(),"function"==typeof n&&n.apply(this,arguments)}))}return Object.defineProperty(e,i,{value:t}),e}(o.close),o.closeSync=function(t){function e(e){t.apply(o,arguments),h()}return Object.defineProperty(e,i,{value:t}),e}(o.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",(function(){f(global[r]),n(11).equal(global[r].length,0)}))}function d(t){c(t),t.gracefulify=d,t.createReadStream=function(e,n){return new t.ReadStream(e,n)},t.createWriteStream=function(e,n){return new t.WriteStream(e,n)};var e=t.readFile;t.readFile=function(t,n,r){"function"==typeof n&&(r=n,n=null);return function t(n,r,i){return e(n,r,(function(e){!e||"EMFILE"!==e.code&&"ENFILE"!==e.code?("function"==typeof i&&i.apply(this,arguments),h()):p([t,[n,r,i]])}))}(t,n,r)};var n=t.writeFile;t.writeFile=function(t,e,r,i){"function"==typeof r&&(i=r,r=null);return function t(e,r,i,o){return n(e,r,i,(function(n){!n||"EMFILE"!==n.code&&"ENFILE"!==n.code?("function"==typeof o&&o.apply(this,arguments),h()):p([t,[e,r,i,o]])}))}(t,e,r,i)};var r=t.appendFile;r&&(t.appendFile=function(t,e,n,i){"function"==typeof n&&(i=n,n=null);return function t(e,n,i,o){return r(e,n,i,(function(r){!r||"EMFILE"!==r.code&&"ENFILE"!==r.code?("function"==typeof o&&o.apply(this,arguments),h()):p([t,[e,n,i,o]])}))}(t,e,n,i)});var i=t.readdir;function o(e){return i.apply(t,e)}if(t.readdir=function(t,e,n){var r=[t];"function"!=typeof e?r.push(e):n=e;return r.push((function(t,e){e&&e.sort&&e.sort();!t||"EMFILE"!==t.code&&"ENFILE"!==t.code?("function"==typeof n&&n.apply(this,arguments),h()):p([o,[r]])})),o(r)},"v0.8"===process.version.substr(0,4)){var u=s(t);m=u.ReadStream,S=u.WriteStream}var a=t.ReadStream;a&&(m.prototype=Object.create(a.prototype),m.prototype.open=function(){var t=this;v(t.path,t.flags,t.mode,(function(e,n){e?(t.autoClose&&t.destroy(),t.emit("error",e)):(t.fd=n,t.emit("open",n),t.read())}))});var f=t.WriteStream;f&&(S.prototype=Object.create(f.prototype),S.prototype.open=function(){var t=this;v(t.path,t.flags,t.mode,(function(e,n){e?(t.destroy(),t.emit("error",e)):(t.fd=n,t.emit("open",n))}))}),Object.defineProperty(t,"ReadStream",{get:function(){return m},set:function(t){m=t},enumerable:!0,configurable:!0}),Object.defineProperty(t,"WriteStream",{get:function(){return S},set:function(t){S=t},enumerable:!0,configurable:!0});var l=m;Object.defineProperty(t,"FileReadStream",{get:function(){return l},set:function(t){l=t},enumerable:!0,configurable:!0});var y=S;function m(t,e){return this instanceof m?(a.apply(this,arguments),this):m.apply(Object.create(m.prototype),arguments)}function S(t,e){return this instanceof S?(f.apply(this,arguments),this):S.apply(Object.create(S.prototype),arguments)}Object.defineProperty(t,"FileWriteStream",{get:function(){return y},set:function(t){y=t},enumerable:!0,configurable:!0});var w=t.open;function v(t,e,n,r){return"function"==typeof n&&(r=n,n=null),function t(e,n,r,i){return w(e,n,r,(function(o,c){!o||"EMFILE"!==o.code&&"ENFILE"!==o.code?("function"==typeof i&&i.apply(this,arguments),h()):p([t,[e,n,r,i]])}))}(t,e,n,r)}return t.open=v,t}function p(t){f("ENQUEUE",t[0].name,t[1]),global[r].push(t)}function h(){var t=global[r].shift();t&&(f("RETRY",t[0].name,t[1]),t[0].apply(null,t[1]))}t.exports=d(u(o)),process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!o.__patched&&(t.exports=d(o),o.__patched=!0)},function(t,e,n){"use strict";e.fromCallback=function(t){return Object.defineProperty((function(){if("function"!=typeof arguments[arguments.length-1])return new Promise((e,n)=>{arguments[arguments.length]=(t,r)=>{if(t)return n(t);e(r)},arguments.length++,t.apply(this,arguments)});t.apply(this,arguments)}),"name",{value:t.name})},e.fromPromise=function(t){return Object.defineProperty((function(){const e=arguments[arguments.length-1];if("function"!=typeof e)return t.apply(this,arguments);t.apply(this,arguments).then(t=>e(null,t),e)}),"name",{value:t.name})}},function(t,e,n){"use strict";const r=(0,n(2).fromCallback)(n(30)),i=n(31);t.exports={mkdirs:r,mkdirsSync:i,mkdirp:r,mkdirpSync:i,ensureDir:r,ensureDirSync:i}},function(t,e,n){"use strict";const r=n(2).fromPromise,i=n(13);t.exports={pathExists:r((function(t){return i.access(t).then(()=>!0).catch(()=>!1)})),pathExistsSync:i.existsSync}},function(t,e){t.exports=require("fs")},function(t,e){t.exports=require("vscode")},function(t,e,n){"use strict";const r=n(1),i=n(0),o=10,c=5,s=0,u=process.versions.node.split("."),a=Number.parseInt(u[0],10),f=Number.parseInt(u[1],10),l=Number.parseInt(u[2],10);function d(){if(a>o)return!0;if(a===o){if(f>c)return!0;if(f===c&&l>=s)return!0}return!1}function p(t,e){const n=i.resolve(t).split(i.sep).filter(t=>t),r=i.resolve(e).split(i.sep).filter(t=>t);return n.reduce((t,e,n)=>t&&r[n]===e,!0)}function h(t,e,n){return`Cannot ${n} '${t}' to a subdirectory of itself, '${e}'.`}t.exports={checkPaths:function(t,e,n,i){!function(t,e,n){d()?r.stat(t,{bigint:!0},(t,i)=>{if(t)return n(t);r.stat(e,{bigint:!0},(t,e)=>t?"ENOENT"===t.code?n(null,{srcStat:i,destStat:null}):n(t):n(null,{srcStat:i,destStat:e}))}):r.stat(t,(t,i)=>{if(t)return n(t);r.stat(e,(t,e)=>t?"ENOENT"===t.code?n(null,{srcStat:i,destStat:null}):n(t):n(null,{srcStat:i,destStat:e}))})}(t,e,(r,o)=>{if(r)return i(r);const{srcStat:c,destStat:s}=o;return s&&s.ino&&s.dev&&s.ino===c.ino&&s.dev===c.dev?i(new Error("Source and destination must not be the same.")):c.isDirectory()&&p(t,e)?i(new Error(h(t,e,n))):i(null,{srcStat:c,destStat:s})})},checkPathsSync:function(t,e,n){const{srcStat:i,destStat:o}=function(t,e){let n,i;n=d()?r.statSync(t,{bigint:!0}):r.statSync(t);try{i=d()?r.statSync(e,{bigint:!0}):r.statSync(e)}catch(t){if("ENOENT"===t.code)return{srcStat:n,destStat:null};throw t}return{srcStat:n,destStat:i}}(t,e);if(o&&o.ino&&o.dev&&o.ino===i.ino&&o.dev===i.dev)throw new Error("Source and destination must not be the same.");if(i.isDirectory()&&p(t,e))throw new Error(h(t,e,n));return{srcStat:i,destStat:o}},checkParentPaths:function t(e,n,o,c,s){const u=i.resolve(i.dirname(e)),a=i.resolve(i.dirname(o));if(a===u||a===i.parse(a).root)return s();d()?r.stat(a,{bigint:!0},(r,i)=>r?"ENOENT"===r.code?s():s(r):i.ino&&i.dev&&i.ino===n.ino&&i.dev===n.dev?s(new Error(h(e,o,c))):t(e,n,a,c,s)):r.stat(a,(r,i)=>r?"ENOENT"===r.code?s():s(r):i.ino&&i.dev&&i.ino===n.ino&&i.dev===n.dev?s(new Error(h(e,o,c))):t(e,n,a,c,s))},checkParentPathsSync:function t(e,n,o,c){const s=i.resolve(i.dirname(e)),u=i.resolve(i.dirname(o));if(u===s||u===i.parse(u).root)return;let a;try{a=d()?r.statSync(u,{bigint:!0}):r.statSync(u)}catch(t){if("ENOENT"===t.code)return;throw t}if(a.ino&&a.dev&&a.ino===n.ino&&a.dev===n.dev)throw new Error(h(e,o,c));return t(e,n,u,c)},isSrcSubdir:p}},function(t,e,n){"use strict";const r=n(2).fromCallback,i=n(36);t.exports={remove:r(i),removeSync:i.sync}},function(t,e){t.exports=require("util")},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function c(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(c,s)}u((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0});const i=n(6),o=n(25),c=n(0),s=n(5);e.extensionName="Template Project",e.debugTypeName="template-project",e.TMP_PATH=c.join("/tmp","cloudstudio","template"),e.sleep=t=>r(this,void 0,void 0,(function*(){return new Promise(e=>{setTimeout(()=>{e()},t)})})),e.extractNumber=t=>parseInt(t.replace(/[^0-9]+/g,"")),e.getWorkspaceRootPath=()=>{const t=i.workspace.workspaceFolders;return t&&t.length>0?t[0].uri.path:""},e.getWorkspaceAllPath=t=>s.readdirSync(t),e.subFirstPath=t=>"/"+t.replace(/^(.?)\//g,""),e.makesureDirExist=(t,e)=>{let n="";for(const r of t)n+=`${r}/`,o.existsSync(c.join(e,n))||o.mkdirSync(c.join(e,n))},e.retryIsExistFile=(t,n=0)=>r(this,void 0,void 0,(function*(){return new Promise(i=>{const o=n=>r(this,void 0,void 0,(function*(){n<0?i(!1):s.existsSync(t)?i(!0):(yield e.sleep(1e3),o(n-1))}));o(n)})}))},function(t,e){t.exports=require("assert")},function(t,e,n){"use strict";const r=n(2).fromCallback,i=n(44);t.exports={readJson:r(i.readFile),readJsonSync:i.readFileSync,writeJson:r(i.writeFile),writeJsonSync:i.writeFileSync}},function(t,e,n){"use strict";const r=n(2).fromCallback,i=n(1),o=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchown","lchmod","link","lstat","mkdir","mkdtemp","open","readFile","readdir","readlink","realpath","rename","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter(t=>"function"==typeof i[t]);Object.keys(i).forEach(t=>{"promises"!==t&&(e[t]=i[t])}),o.forEach(t=>{e[t]=r(i[t])}),e.exists=function(t,e){return"function"==typeof e?i.exists(t,e):new Promise(e=>i.exists(t,e))},e.read=function(t,e,n,r,o,c){return"function"==typeof c?i.read(t,e,n,r,o,c):new Promise((c,s)=>{i.read(t,e,n,r,o,(t,e,n)=>{if(t)return s(t);c({bytesRead:e,buffer:n})})})},e.write=function(t,e,...n){return"function"==typeof n[n.length-1]?i.write(t,e,...n):new Promise((r,o)=>{i.write(t,e,...n,(t,e,n)=>{if(t)return o(t);r({bytesWritten:e,buffer:n})})})},"function"==typeof i.realpath.native&&(e.realpath.native=r(i.realpath.native))},function(t,e){t.exports=require("constants")},function(t,e){t.exports=require("stream")},function(t,e,n){"use strict";t.exports={copySync:n(29)}},function(t,e,n){"use strict";const r=n(0);function i(t){return(t=r.normalize(r.resolve(t)).split(r.sep)).length>0?t[0]:null}const o=/[<>:"|?*]/;t.exports={getRootPath:i,invalidWin32Path:function(t){const e=i(t);return t=t.replace(e,""),o.test(t)}}},function(t,e,n){"use strict";const r=n(1),i=n(32),o=n(0);t.exports={hasMillisRes:function(t){let e=o.join("millis-test"+Date.now().toString()+Math.random().toString().slice(2));e=o.join(i.tmpdir(),e);const n=new Date(1435410243862);r.writeFile(e,"https://github.com/jprichardson/node-fs-extra/pull/141",i=>{if(i)return t(i);r.open(e,"r+",(i,o)=>{if(i)return t(i);r.futimes(o,n,n,n=>{if(n)return t(n);r.close(o,n=>{if(n)return t(n);r.stat(e,(e,n)=>{if(e)return t(e);t(null,n.mtime>1435410243e3)})})})})})},hasMillisResSync:function(){let t=o.join("millis-test-sync"+Date.now().toString()+Math.random().toString().slice(2));t=o.join(i.tmpdir(),t);const e=new Date(1435410243862);r.writeFileSync(t,"https://github.com/jprichardson/node-fs-extra/pull/141");const n=r.openSync(t,"r+");return r.futimesSync(n,e,e),r.closeSync(n),r.statSync(t).mtime>1435410243e3},timeRemoveMillis:function(t){if("number"==typeof t)return 1e3*Math.floor(t/1e3);if(t instanceof Date)return new Date(1e3*Math.floor(t.getTime()/1e3));throw new Error("fs-extra: timeRemoveMillis() unknown parameter type")},utimesMillis:function(t,e,n,i){r.open(t,"r+",(t,o)=>{if(t)return i(t);r.futimes(o,e,n,t=>{r.close(o,e=>{i&&i(t||e)})})})},utimesMillisSync:function(t,e,n){const i=r.openSync(t,"r+");return r.futimesSync(i,e,n),r.closeSync(i)}}},function(t,e,n){"use strict";const r=n(2).fromCallback;t.exports={copy:r(n(34))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(21),i=n(22);e.activate=function(t){const e=new i.default(t),n=new r.default(t);e.runtime(),n.onListenChooseTempCommands(()=>e.openChooseTemp())},e.deactivate=function(){}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(6);var i;!function(t){t.CHOOSE="template.choose"}(i||(i={}));e.default=class{constructor(t){this.context=t}registerCommandFactory(t){return e=>{this.context.subscriptions.push(r.commands.registerCommand(t,e))}}onListenChooseTempCommands(t){this.registerCommandFactory(i.CHOOSE)(()=>{t&&t()})}}},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function c(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(c,s)}u((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0});const i=n(6),o=n(9),c=n(23),s=n(24),u=n(56),a=n(10);e.default=class{constructor(t){this.context=t,this.workspaceRootPath=a.getWorkspaceRootPath(),this.webviewUrl="项目模版",a.makesureDirExist(["cloudstudio","template"],"/tmp"),this.webviewManager=new s.default(this.context),this.previewProbe=new u.default,this.webviewManager.on("Create.new",t=>this.handleCreateNewListener(t))}handleCreateNewListener(t){return r(this,void 0,void 0,(function*(){if(!this.workspaceRootPath)return void i.window.showWarningMessage("您尚未打开文件夹，请在左侧工作空间选择打开一个目录");const{params:e}=t;let n;if(!c.spawnSync(`${e.checkEnv}`,[`${"java"===e.checkEnv?"-version":"--version"}`]).stdout&&(console.log("不存在该环境"),n=yield i.window.showInformationMessage(`检测到您未安装 ${e.env} 环境，请先安装相关环境，不然无法自动运行${e.title} 模版项目哦～ O_o`,"确定","继续下载"),console.log("result",n),"继续下载"!==n))return Promise.reject();yield i.window.withProgress({location:i.ProgressLocation.Notification,title:`正在创建 ${e.title} 模版项目... 请稍候 ${"All"!==e.env?`, 请确保您已安装 ${e.env} 环境`:""}`,cancellable:!0},()=>new Promise(t=>r(this,void 0,void 0,(function*(){const n=e.title.replace(/\s+/g,"");yield o.promisify(c.exec)(`curl -o ${n}.tar.gz ${e.fetchUrl}`,{cwd:a.TMP_PATH}),yield o.promisify(c.exec)(`tar zxvf ${a.TMP_PATH}/${n}.tar.gz -C ./`,{cwd:this.workspaceRootPath}),yield o.promisify(c.exec)(`rm -rf ${n}.tar.gz`,{cwd:a.TMP_PATH}),t(),i.window.showInformationMessage("模版创建成功"),this.webviewManager.disposeByUrl(this.webviewUrl)})))),"继续下载"!==n&&this.previewProbe.launchPreviewDerectionYml(10)}))}runtime(){0===a.getWorkspaceAllPath(this.workspaceRootPath).length&&this.openChooseTemp()}openChooseTemp(){return r(this,void 0,void 0,(function*(){return new Promise(t=>r(this,void 0,void 0,(function*(){this.webviewManager.create(this.webviewUrl),t()})))}))}}},function(t,e){t.exports=require("child_process")},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function c(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(c,s)}u((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0});const i=n(6),o=n(0),c=n(5),s=n(10);e.default=class{constructor(t){this.context=t,this.openWindowsMap=new Map,this.eventList=[]}getWebviewContent(t){return`<!DOCTYPE html>\n        <html lang="en" style="width: 100% !important;height: 100% !important; padding: 0; border: 0">\n        <head>\n            <meta charset="UTF-8">\n            <meta name="viewport" content="width=device-width, initial-scale=1.0">\n            <title>${s.extensionName}</title>\n        </head>\n        <body style="width: 100%;height: 100%; border: none; padding: 0; margin: 0">\n          <iframe src="${t}" sandbox="allow-scripts allow-forms allow-same-origin allow-popups" style="width: 100%;height: 100%; border: none; position: fixed"></iframe>\n        </body>\n        </html>`}getContent(t){try{const e=c.readFileSync(o.join(this.context.extensionPath,"webviewDist","asset-manifest.json")).toString(),n=JSON.parse(e).files,r=o.join(n["main.js"]),s=o.join(n["main.css"]),u=o.join(n["runtime~main.js"]),a=[];for(let t in n)if(t.endsWith(".chunk.js")&&n.hasOwnProperty(t)){let e=i.Uri.file(o.join(this.context.extensionPath,"webviewDist",n[t])).with({scheme:"vscode-resource"});a.push(e)}const f=i.Uri.file(o.join(this.context.extensionPath,"webviewDist",u)).with({scheme:"vscode-resource"}),l=i.Uri.file(o.join(this.context.extensionPath,"webviewDist",r)).with({scheme:"vscode-resource"});return`<!DOCTYPE html>\n                    <html lang="en">\n                    <head>\n                        <meta charset="utf-8">\n                        <link rel="stylesheet" type="text/css" href="${i.Uri.file(o.join(this.context.extensionPath,"webviewDist",s)).with({scheme:"vscode-resource"})}">\n                        <base href="${i.Uri.file(o.join(this.context.extensionPath,"webviewDist","build")).with({scheme:"vscode-resource"})}/">\n                    </head>\n                    <body>\n                        <div id="root"></div>\n                        <script src="${f}"><\/script>\n                        ${a.map(t=>`<script src="${t}"><\/script>`)}\n                        <script src="${l}"><\/script>\n                        <iframe src="${t}" sandbox="allow-scripts allow-forms allow-same-origin allow-popups" style="width: 100%;height: 100%; border: none; position: fixed; background:#fff"></iframe>\n                    </body>\n                    </html>`}catch(t){console.log(t.message||"System Error")}}renderHTMLContent(t){return this.getContent(t)||this.getWebviewContent(t)}on(t,e){this.eventList.push({type:t,cb:e})}create(t){return r(this,void 0,void 0,(function*(){if(this.openWindowsMap.get(t))this.openWindowsMap.forEach((e,n)=>{n===t&&(e.webview.html=this.renderHTMLContent(t),e.title=t||s.extensionName,e.reveal(i.ViewColumn.Active))});else{const e=i.window.createWebviewPanel(s.extensionName,s.extensionName,i.ViewColumn.Active,{enableScripts:!0,retainContextWhenHidden:!0});e.webview.html=this.renderHTMLContent(t),e.title=t||s.extensionName,e.webview.onDidReceiveMessage(t=>{switch(t.type){case"Create.new":return void this.eventList.forEach(e=>{"Create.new"===e.type&&e.cb&&e.cb(t)})}},void 0,this.context.subscriptions),e.onDidDispose(()=>{this.openWindowsMap.delete(t)},void 0,this.context.subscriptions),this.openWindowsMap.set(t,e)}}))}disposeByUrl(t){this.openWindowsMap.forEach((e,n)=>{n===t&&e.dispose()})}}},function(t,e,n){"use strict";t.exports=Object.assign({},n(13),n(16),n(19),n(35),n(37),n(43),n(3),n(51),n(53),n(55),n(4),n(8));const r=n(5);Object.getOwnPropertyDescriptor(r,"promises")&&Object.defineProperty(t.exports,"promises",{get:()=>r.promises})},function(t,e,n){var r=n(14),i=process.cwd,o=null,c=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return o||(o=i.call(process)),o};try{process.cwd()}catch(t){}var s=process.chdir;process.chdir=function(t){o=null,s.call(process,t)},t.exports=function(t){r.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&function(t){t.lchmod=function(e,n,i){t.open(e,r.O_WRONLY|r.O_SYMLINK,n,(function(e,r){e?i&&i(e):t.fchmod(r,n,(function(e){t.close(r,(function(t){i&&i(e||t)}))}))}))},t.lchmodSync=function(e,n){var i,o=t.openSync(e,r.O_WRONLY|r.O_SYMLINK,n),c=!0;try{i=t.fchmodSync(o,n),c=!1}finally{if(c)try{t.closeSync(o)}catch(t){}else t.closeSync(o)}return i}}(t);t.lutimes||function(t){r.hasOwnProperty("O_SYMLINK")?(t.lutimes=function(e,n,i,o){t.open(e,r.O_SYMLINK,(function(e,r){e?o&&o(e):t.futimes(r,n,i,(function(e){t.close(r,(function(t){o&&o(e||t)}))}))}))},t.lutimesSync=function(e,n,i){var o,c=t.openSync(e,r.O_SYMLINK),s=!0;try{o=t.futimesSync(c,n,i),s=!1}finally{if(s)try{t.closeSync(c)}catch(t){}else t.closeSync(c)}return o}):(t.lutimes=function(t,e,n,r){r&&process.nextTick(r)},t.lutimesSync=function(){})}(t);t.chown=o(t.chown),t.fchown=o(t.fchown),t.lchown=o(t.lchown),t.chmod=n(t.chmod),t.fchmod=n(t.fchmod),t.lchmod=n(t.lchmod),t.chownSync=s(t.chownSync),t.fchownSync=s(t.fchownSync),t.lchownSync=s(t.lchownSync),t.chmodSync=i(t.chmodSync),t.fchmodSync=i(t.fchmodSync),t.lchmodSync=i(t.lchmodSync),t.stat=u(t.stat),t.fstat=u(t.fstat),t.lstat=u(t.lstat),t.statSync=a(t.statSync),t.fstatSync=a(t.fstatSync),t.lstatSync=a(t.lstatSync),t.lchmod||(t.lchmod=function(t,e,n){n&&process.nextTick(n)},t.lchmodSync=function(){});t.lchown||(t.lchown=function(t,e,n,r){r&&process.nextTick(r)},t.lchownSync=function(){});"win32"===c&&(t.rename=(e=t.rename,function(n,r,i){var o=Date.now(),c=0;e(n,r,(function s(u){if(u&&("EACCES"===u.code||"EPERM"===u.code)&&Date.now()-o<6e4)return setTimeout((function(){t.stat(r,(function(t,o){t&&"ENOENT"===t.code?e(n,r,s):i(u)}))}),c),void(c<100&&(c+=10));i&&i(u)}))}));var e;function n(e){return e?function(n,r,i){return e.call(t,n,r,(function(t){f(t)&&(t=null),i&&i.apply(this,arguments)}))}:e}function i(e){return e?function(n,r){try{return e.call(t,n,r)}catch(t){if(!f(t))throw t}}:e}function o(e){return e?function(n,r,i,o){return e.call(t,n,r,i,(function(t){f(t)&&(t=null),o&&o.apply(this,arguments)}))}:e}function s(e){return e?function(n,r,i){try{return e.call(t,n,r,i)}catch(t){if(!f(t))throw t}}:e}function u(e){return e?function(n,r,i){function o(t,e){e&&(e.uid<0&&(e.uid+=4294967296),e.gid<0&&(e.gid+=4294967296)),i&&i.apply(this,arguments)}return"function"==typeof r&&(i=r,r=null),r?e.call(t,n,r,o):e.call(t,n,o)}:e}function a(e){return e?function(n,r){var i=r?e.call(t,n,r):e.call(t,n);return i.uid<0&&(i.uid+=4294967296),i.gid<0&&(i.gid+=4294967296),i}:e}function f(t){return!t||("ENOSYS"===t.code||!(process.getuid&&0===process.getuid()||"EINVAL"!==t.code&&"EPERM"!==t.code))}t.read=function(e){function n(n,r,i,o,c,s){var u;if(s&&"function"==typeof s){var a=0;u=function(f,l,d){if(f&&"EAGAIN"===f.code&&a<10)return a++,e.call(t,n,r,i,o,c,u);s.apply(this,arguments)}}return e.call(t,n,r,i,o,c,u)}return n.__proto__=e,n}(t.read),t.readSync=(l=t.readSync,function(e,n,r,i,o){for(var c=0;;)try{return l.call(t,e,n,r,i,o)}catch(t){if("EAGAIN"===t.code&&c<10){c++;continue}throw t}});var l}},function(t,e,n){var r=n(15).Stream;t.exports=function(t){return{ReadStream:function e(n,i){if(!(this instanceof e))return new e(n,i);r.call(this);var o=this;this.path=n,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=65536,i=i||{};for(var c=Object.keys(i),s=0,u=c.length;s<u;s++){var a=c[s];this[a]=i[a]}this.encoding&&this.setEncoding(this.encoding);if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(void 0===this.end)this.end=1/0;else if("number"!=typeof this.end)throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(null!==this.fd)return void process.nextTick((function(){o._read()}));t.open(this.path,this.flags,this.mode,(function(t,e){if(t)return o.emit("error",t),void(o.readable=!1);o.fd=e,o.emit("open",e),o._read()}))},WriteStream:function e(n,i){if(!(this instanceof e))return new e(n,i);r.call(this),this.path=n,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,i=i||{};for(var o=Object.keys(i),c=0,s=o.length;c<s;c++){var u=o[c];this[u]=i[u]}if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],null===this.fd&&(this._open=t.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}}},function(t,e,n){"use strict";t.exports=function(t){if(null===t||"object"!=typeof t)return t;if(t instanceof Object)var e={__proto__:t.__proto__};else e=Object.create(null);return Object.getOwnPropertyNames(t).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}},function(t,e,n){"use strict";const r=n(1),i=n(0),o=n(3).mkdirsSync,c=n(18).utimesMillisSync,s=n(7);function u(t,e,n,o){if(!o.filter||o.filter(e,n))return function(t,e,n,o){const c=(o.dereference?r.statSync:r.lstatSync)(e);if(c.isDirectory())return function(t,e,n,i,o){if(!e)return function(t,e,n,i){return r.mkdirSync(n),f(e,n,i),r.chmodSync(n,t.mode)}(t,n,i,o);if(e&&!e.isDirectory())throw new Error(`Cannot overwrite non-directory '${i}' with directory '${n}'.`);return f(n,i,o)}(c,t,e,n,o);if(c.isFile()||c.isCharacterDevice()||c.isBlockDevice())return function(t,e,n,i,o){return e?function(t,e,n,i){if(i.overwrite)return r.unlinkSync(n),a(t,e,n,i);if(i.errorOnExist)throw new Error(`'${n}' already exists`)}(t,n,i,o):a(t,n,i,o)}(c,t,e,n,o);if(c.isSymbolicLink())return function(t,e,n,o){let c=r.readlinkSync(e);o.dereference&&(c=i.resolve(process.cwd(),c));if(t){let t;try{t=r.readlinkSync(n)}catch(t){if("EINVAL"===t.code||"UNKNOWN"===t.code)return r.symlinkSync(c,n);throw t}if(o.dereference&&(t=i.resolve(process.cwd(),t)),s.isSrcSubdir(c,t))throw new Error(`Cannot copy '${c}' to a subdirectory of itself, '${t}'.`);if(r.statSync(n).isDirectory()&&s.isSrcSubdir(t,c))throw new Error(`Cannot overwrite '${t}' with '${c}'.`);return function(t,e){return r.unlinkSync(e),r.symlinkSync(t,e)}(c,n)}return r.symlinkSync(c,n)}(t,e,n,o)}(t,e,n,o)}function a(t,e,i,o){return"function"==typeof r.copyFileSync?(r.copyFileSync(e,i),r.chmodSync(i,t.mode),o.preserveTimestamps?c(i,t.atime,t.mtime):void 0):function(t,e,i,o){const c=n(33)(65536),s=r.openSync(e,"r"),u=r.openSync(i,"w",t.mode);let a=0;for(;a<t.size;){const t=r.readSync(s,c,0,65536,a);r.writeSync(u,c,0,t),a+=t}o.preserveTimestamps&&r.futimesSync(u,t.atime,t.mtime);r.closeSync(s),r.closeSync(u)}(t,e,i,o)}function f(t,e,n){r.readdirSync(t).forEach(r=>(function(t,e,n,r){const o=i.join(e,t),c=i.join(n,t),{destStat:a}=s.checkPathsSync(o,c,"copy");return u(a,o,c,r)})(r,t,e,n))}t.exports=function(t,e,n){"function"==typeof n&&(n={filter:n}),(n=n||{}).clobber=!("clobber"in n)||!!n.clobber,n.overwrite="overwrite"in n?!!n.overwrite:n.clobber,n.preserveTimestamps&&"ia32"===process.arch&&console.warn("fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;\n\n    see https://github.com/jprichardson/node-fs-extra/issues/269");const{srcStat:c,destStat:a}=s.checkPathsSync(t,e,"copy");return s.checkParentPathsSync(t,c,e,"copy"),function(t,e,n,c){if(c.filter&&!c.filter(e,n))return;const s=i.dirname(n);r.existsSync(s)||o(s);return u(t,e,n,c)}(a,t,e,n)}},function(t,e,n){"use strict";const r=n(1),i=n(0),o=n(17).invalidWin32Path,c=parseInt("0777",8);t.exports=function t(e,n,s,u){if("function"==typeof n?(s=n,n={}):n&&"object"==typeof n||(n={mode:n}),"win32"===process.platform&&o(e)){const t=new Error(e+" contains invalid WIN32 path characters.");return t.code="EINVAL",s(t)}let a=n.mode;const f=n.fs||r;void 0===a&&(a=c&~process.umask()),u||(u=null),s=s||function(){},e=i.resolve(e),f.mkdir(e,a,r=>{if(!r)return s(null,u=u||e);switch(r.code){case"ENOENT":if(i.dirname(e)===e)return s(r);t(i.dirname(e),n,(r,i)=>{r?s(r,i):t(e,n,s,i)});break;default:f.stat(e,(t,e)=>{t||!e.isDirectory()?s(r,u):s(null,u)})}})}},function(t,e,n){"use strict";const r=n(1),i=n(0),o=n(17).invalidWin32Path,c=parseInt("0777",8);t.exports=function t(e,n,s){n&&"object"==typeof n||(n={mode:n});let u=n.mode;const a=n.fs||r;if("win32"===process.platform&&o(e)){const t=new Error(e+" contains invalid WIN32 path characters.");throw t.code="EINVAL",t}void 0===u&&(u=c&~process.umask()),s||(s=null),e=i.resolve(e);try{a.mkdirSync(e,u),s=s||e}catch(r){if("ENOENT"===r.code){if(i.dirname(e)===e)throw r;s=t(i.dirname(e),n,s),t(e,n,s)}else{let t;try{t=a.statSync(e)}catch(t){throw r}if(!t.isDirectory())throw r}}return s}},function(t,e){t.exports=require("os")},function(t,e,n){"use strict";t.exports=function(t){if("function"==typeof Buffer.allocUnsafe)try{return Buffer.allocUnsafe(t)}catch(e){return new Buffer(t)}return new Buffer(t)}},function(t,e,n){"use strict";const r=n(1),i=n(0),o=n(3).mkdirs,c=n(4).pathExists,s=n(18).utimesMillis,u=n(7);function a(t,e,n,r,s){const u=i.dirname(n);c(u,(i,c)=>i?s(i):c?l(t,e,n,r,s):void o(u,i=>i?s(i):l(t,e,n,r,s)))}function f(t,e,n,r,i,o){Promise.resolve(i.filter(n,r)).then(c=>c?t(e,n,r,i,o):o(),t=>o(t))}function l(t,e,n,r,i){return r.filter?f(d,t,e,n,r,i):d(t,e,n,r,i)}function d(t,e,n,i,o){(i.dereference?r.stat:r.lstat)(e,(c,s)=>c?o(c):s.isDirectory()?function(t,e,n,i,o,c){if(!e)return function(t,e,n,i,o){r.mkdir(n,c=>{if(c)return o(c);y(e,n,i,e=>e?o(e):r.chmod(n,t.mode,o))})}(t,n,i,o,c);if(e&&!e.isDirectory())return c(new Error(`Cannot overwrite non-directory '${i}' with directory '${n}'.`));return y(n,i,o,c)}(s,t,e,n,i,o):s.isFile()||s.isCharacterDevice()||s.isBlockDevice()?function(t,e,n,i,o,c){return e?function(t,e,n,i,o){if(!i.overwrite)return i.errorOnExist?o(new Error(`'${n}' already exists`)):o();r.unlink(n,r=>r?o(r):p(t,e,n,i,o))}(t,n,i,o,c):p(t,n,i,o,c)}(s,t,e,n,i,o):s.isSymbolicLink()?S(t,e,n,i,o):void 0)}function p(t,e,n,i,o){return"function"==typeof r.copyFile?r.copyFile(e,n,e=>e?o(e):h(t,n,i,o)):function(t,e,n,i,o){const c=r.createReadStream(e);c.on("error",t=>o(t)).once("open",()=>{const e=r.createWriteStream(n,{mode:t.mode});e.on("error",t=>o(t)).on("open",()=>c.pipe(e)).once("close",()=>h(t,n,i,o))})}(t,e,n,i,o)}function h(t,e,n,i){r.chmod(e,t.mode,r=>r?i(r):n.preserveTimestamps?s(e,t.atime,t.mtime,i):i())}function y(t,e,n,i){r.readdir(t,(r,o)=>r?i(r):m(o,t,e,n,i))}function m(t,e,n,r,o){const c=t.pop();return c?function(t,e,n,r,o,c){const s=i.join(n,e),a=i.join(r,e);u.checkPaths(s,a,"copy",(e,i)=>{if(e)return c(e);const{destStat:u}=i;l(u,s,a,o,e=>e?c(e):m(t,n,r,o,c))})}(t,c,e,n,r,o):o()}function S(t,e,n,o,c){r.readlink(e,(e,s)=>e?c(e):(o.dereference&&(s=i.resolve(process.cwd(),s)),t?void r.readlink(n,(e,a)=>e?"EINVAL"===e.code||"UNKNOWN"===e.code?r.symlink(s,n,c):c(e):(o.dereference&&(a=i.resolve(process.cwd(),a)),u.isSrcSubdir(s,a)?c(new Error(`Cannot copy '${s}' to a subdirectory of itself, '${a}'.`)):t.isDirectory()&&u.isSrcSubdir(a,s)?c(new Error(`Cannot overwrite '${a}' with '${s}'.`)):function(t,e,n){r.unlink(e,i=>i?n(i):r.symlink(t,e,n))}(s,n,c))):r.symlink(s,n,c)))}t.exports=function(t,e,n,r){"function"!=typeof n||r?"function"==typeof n&&(n={filter:n}):(r=n,n={}),r=r||function(){},(n=n||{}).clobber=!("clobber"in n)||!!n.clobber,n.overwrite="overwrite"in n?!!n.overwrite:n.clobber,n.preserveTimestamps&&"ia32"===process.arch&&console.warn("fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;\n\n    see https://github.com/jprichardson/node-fs-extra/issues/269"),u.checkPaths(t,e,"copy",(i,o)=>{if(i)return r(i);const{srcStat:c,destStat:s}=o;u.checkParentPaths(t,c,e,"copy",i=>i?r(i):n.filter?f(a,s,t,e,n,r):a(s,t,e,n,r))})}},function(t,e,n){"use strict";const r=n(2).fromCallback,i=n(1),o=n(0),c=n(3),s=n(8),u=r((function(t,e){e=e||function(){},i.readdir(t,(n,r)=>{if(n)return c.mkdirs(t,e);r=r.map(e=>o.join(t,e)),function t(){const n=r.pop();if(!n)return e();s.remove(n,n=>{if(n)return e(n);t()})}()})}));function a(t){let e;try{e=i.readdirSync(t)}catch(e){return c.mkdirsSync(t)}e.forEach(e=>{e=o.join(t,e),s.removeSync(e)})}t.exports={emptyDirSync:a,emptydirSync:a,emptyDir:u,emptydir:u}},function(t,e,n){"use strict";const r=n(1),i=n(0),o=n(11),c="win32"===process.platform;function s(t){["unlink","chmod","stat","lstat","rmdir","readdir"].forEach(e=>{t[e]=t[e]||r[e],t[e+="Sync"]=t[e]||r[e]}),t.maxBusyTries=t.maxBusyTries||3}function u(t,e,n){let r=0;"function"==typeof e&&(n=e,e={}),o(t,"rimraf: missing path"),o.strictEqual(typeof t,"string","rimraf: path should be a string"),o.strictEqual(typeof n,"function","rimraf: callback function required"),o(e,"rimraf: invalid options argument provided"),o.strictEqual(typeof e,"object","rimraf: options should be object"),s(e),a(t,e,(function i(o){if(o){if(("EBUSY"===o.code||"ENOTEMPTY"===o.code||"EPERM"===o.code)&&r<e.maxBusyTries){return r++,setTimeout(()=>a(t,e,i),100*r)}"ENOENT"===o.code&&(o=null)}n(o)}))}function a(t,e,n){o(t),o(e),o("function"==typeof n),e.lstat(t,(r,i)=>r&&"ENOENT"===r.code?n(null):r&&"EPERM"===r.code&&c?f(t,e,r,n):i&&i.isDirectory()?d(t,e,r,n):void e.unlink(t,r=>{if(r){if("ENOENT"===r.code)return n(null);if("EPERM"===r.code)return c?f(t,e,r,n):d(t,e,r,n);if("EISDIR"===r.code)return d(t,e,r,n)}return n(r)}))}function f(t,e,n,r){o(t),o(e),o("function"==typeof r),n&&o(n instanceof Error),e.chmod(t,438,i=>{i?r("ENOENT"===i.code?null:n):e.stat(t,(i,o)=>{i?r("ENOENT"===i.code?null:n):o.isDirectory()?d(t,e,n,r):e.unlink(t,r)})})}function l(t,e,n){let r;o(t),o(e),n&&o(n instanceof Error);try{e.chmodSync(t,438)}catch(t){if("ENOENT"===t.code)return;throw n}try{r=e.statSync(t)}catch(t){if("ENOENT"===t.code)return;throw n}r.isDirectory()?h(t,e,n):e.unlinkSync(t)}function d(t,e,n,r){o(t),o(e),n&&o(n instanceof Error),o("function"==typeof r),e.rmdir(t,c=>{!c||"ENOTEMPTY"!==c.code&&"EEXIST"!==c.code&&"EPERM"!==c.code?c&&"ENOTDIR"===c.code?r(n):r(c):function(t,e,n){o(t),o(e),o("function"==typeof n),e.readdir(t,(r,o)=>{if(r)return n(r);let c,s=o.length;if(0===s)return e.rmdir(t,n);o.forEach(r=>{u(i.join(t,r),e,r=>{if(!c)return r?n(c=r):void(0==--s&&e.rmdir(t,n))})})})}(t,e,r)})}function p(t,e){let n;s(e=e||{}),o(t,"rimraf: missing path"),o.strictEqual(typeof t,"string","rimraf: path should be a string"),o(e,"rimraf: missing options"),o.strictEqual(typeof e,"object","rimraf: options should be object");try{n=e.lstatSync(t)}catch(n){if("ENOENT"===n.code)return;"EPERM"===n.code&&c&&l(t,e,n)}try{n&&n.isDirectory()?h(t,e,null):e.unlinkSync(t)}catch(n){if("ENOENT"===n.code)return;if("EPERM"===n.code)return c?l(t,e,n):h(t,e,n);if("EISDIR"!==n.code)throw n;h(t,e,n)}}function h(t,e,n){o(t),o(e),n&&o(n instanceof Error);try{e.rmdirSync(t)}catch(r){if("ENOTDIR"===r.code)throw n;if("ENOTEMPTY"===r.code||"EEXIST"===r.code||"EPERM"===r.code)!function(t,e){if(o(t),o(e),e.readdirSync(t).forEach(n=>p(i.join(t,n),e)),!c){return e.rmdirSync(t,e)}{const n=Date.now();do{try{return e.rmdirSync(t,e)}catch(t){}}while(Date.now()-n<500)}}(t,e);else if("ENOENT"!==r.code)throw r}}t.exports=u,u.sync=p},function(t,e,n){"use strict";const r=n(38),i=n(39),o=n(40);t.exports={createFile:r.createFile,createFileSync:r.createFileSync,ensureFile:r.createFile,ensureFileSync:r.createFileSync,createLink:i.createLink,createLinkSync:i.createLinkSync,ensureLink:i.createLink,ensureLinkSync:i.createLinkSync,createSymlink:o.createSymlink,createSymlinkSync:o.createSymlinkSync,ensureSymlink:o.createSymlink,ensureSymlinkSync:o.createSymlinkSync}},function(t,e,n){"use strict";const r=n(2).fromCallback,i=n(0),o=n(1),c=n(3),s=n(4).pathExists;t.exports={createFile:r((function(t,e){function n(){o.writeFile(t,"",t=>{if(t)return e(t);e()})}o.stat(t,(r,o)=>{if(!r&&o.isFile())return e();const u=i.dirname(t);s(u,(t,r)=>t?e(t):r?n():void c.mkdirs(u,t=>{if(t)return e(t);n()}))})})),createFileSync:function(t){let e;try{e=o.statSync(t)}catch(t){}if(e&&e.isFile())return;const n=i.dirname(t);o.existsSync(n)||c.mkdirsSync(n),o.writeFileSync(t,"")}}},function(t,e,n){"use strict";const r=n(2).fromCallback,i=n(0),o=n(1),c=n(3),s=n(4).pathExists;t.exports={createLink:r((function(t,e,n){function r(t,e){o.link(t,e,t=>{if(t)return n(t);n(null)})}s(e,(u,a)=>u?n(u):a?n(null):void o.lstat(t,o=>{if(o)return o.message=o.message.replace("lstat","ensureLink"),n(o);const u=i.dirname(e);s(u,(i,o)=>i?n(i):o?r(t,e):void c.mkdirs(u,i=>{if(i)return n(i);r(t,e)}))}))})),createLinkSync:function(t,e){if(o.existsSync(e))return;try{o.lstatSync(t)}catch(t){throw t.message=t.message.replace("lstat","ensureLink"),t}const n=i.dirname(e);return o.existsSync(n)?o.linkSync(t,e):(c.mkdirsSync(n),o.linkSync(t,e))}}},function(t,e,n){"use strict";const r=n(2).fromCallback,i=n(0),o=n(1),c=n(3),s=c.mkdirs,u=c.mkdirsSync,a=n(41),f=a.symlinkPaths,l=a.symlinkPathsSync,d=n(42),p=d.symlinkType,h=d.symlinkTypeSync,y=n(4).pathExists;t.exports={createSymlink:r((function(t,e,n,r){r="function"==typeof n?n:r,n="function"!=typeof n&&n,y(e,(c,u)=>c?r(c):u?r(null):void f(t,e,(c,u)=>{if(c)return r(c);t=u.toDst,p(u.toCwd,n,(n,c)=>{if(n)return r(n);const u=i.dirname(e);y(u,(n,i)=>n?r(n):i?o.symlink(t,e,c,r):void s(u,n=>{if(n)return r(n);o.symlink(t,e,c,r)}))})}))})),createSymlinkSync:function(t,e,n){if(o.existsSync(e))return;const r=l(t,e);t=r.toDst,n=h(r.toCwd,n);const c=i.dirname(e);return o.existsSync(c)?o.symlinkSync(t,e,n):(u(c),o.symlinkSync(t,e,n))}}},function(t,e,n){"use strict";const r=n(0),i=n(1),o=n(4).pathExists;t.exports={symlinkPaths:function(t,e,n){if(r.isAbsolute(t))return i.lstat(t,e=>e?(e.message=e.message.replace("lstat","ensureSymlink"),n(e)):n(null,{toCwd:t,toDst:t}));{const c=r.dirname(e),s=r.join(c,t);return o(s,(e,o)=>e?n(e):o?n(null,{toCwd:s,toDst:t}):i.lstat(t,e=>e?(e.message=e.message.replace("lstat","ensureSymlink"),n(e)):n(null,{toCwd:t,toDst:r.relative(c,t)})))}},symlinkPathsSync:function(t,e){let n;if(r.isAbsolute(t)){if(!(n=i.existsSync(t)))throw new Error("absolute srcpath does not exist");return{toCwd:t,toDst:t}}{const o=r.dirname(e),c=r.join(o,t);if(n=i.existsSync(c))return{toCwd:c,toDst:t};if(!(n=i.existsSync(t)))throw new Error("relative srcpath does not exist");return{toCwd:t,toDst:r.relative(o,t)}}}}},function(t,e,n){"use strict";const r=n(1);t.exports={symlinkType:function(t,e,n){if(n="function"==typeof e?e:n,e="function"!=typeof e&&e)return n(null,e);r.lstat(t,(t,r)=>{if(t)return n(null,"file");e=r&&r.isDirectory()?"dir":"file",n(null,e)})},symlinkTypeSync:function(t,e){let n;if(e)return e;try{n=r.lstatSync(t)}catch(t){return"file"}return n&&n.isDirectory()?"dir":"file"}}},function(t,e,n){"use strict";const r=n(2).fromCallback,i=n(12);i.outputJson=r(n(49)),i.outputJsonSync=n(50),i.outputJSON=i.outputJson,i.outputJSONSync=i.outputJsonSync,i.writeJSON=i.writeJson,i.writeJSONSync=i.writeJsonSync,i.readJSON=i.readJson,i.readJSONSync=i.readJsonSync,t.exports=i},function(t,e,n){var r;try{r=n(45)}catch(t){r=n(5)}function i(t,e){var n,r="\n";return"object"==typeof e&&null!==e&&(e.spaces&&(n=e.spaces),e.EOL&&(r=e.EOL)),JSON.stringify(t,e?e.replacer:null,n).replace(/\n/g,r)+r}function o(t){return Buffer.isBuffer(t)&&(t=t.toString("utf8")),t=t.replace(/^\uFEFF/,"")}var c={readFile:function(t,e,n){null==n&&(n=e,e={}),"string"==typeof e&&(e={encoding:e});var i=(e=e||{}).fs||r,c=!0;"throws"in e&&(c=e.throws),i.readFile(t,e,(function(r,i){if(r)return n(r);var s;i=o(i);try{s=JSON.parse(i,e?e.reviver:null)}catch(e){return c?(e.message=t+": "+e.message,n(e)):n(null,null)}n(null,s)}))},readFileSync:function(t,e){"string"==typeof(e=e||{})&&(e={encoding:e});var n=e.fs||r,i=!0;"throws"in e&&(i=e.throws);try{var c=n.readFileSync(t,e);return c=o(c),JSON.parse(c,e.reviver)}catch(e){if(i)throw e.message=t+": "+e.message,e;return null}},writeFile:function(t,e,n,o){null==o&&(o=n,n={});var c=(n=n||{}).fs||r,s="";try{s=i(e,n)}catch(t){return void(o&&o(t,null))}c.writeFile(t,s,n,o)},writeFileSync:function(t,e,n){var o=(n=n||{}).fs||r,c=i(e,n);return o.writeFileSync(t,c,n)}};t.exports=c},function(t,e,n){var r=n(5),i=n(46),o=n(47),c=n(48),s=[],u=n(9);var a,f,l=function(){};function d(t){i(t),t.gracefulify=d,t.FileReadStream=l,t.FileWriteStream=y,t.createReadStream=function(t,e){return new l(t,e)},t.createWriteStream=function(t,e){return new y(t,e)};var e=t.readFile;t.readFile=function(t,n,r){"function"==typeof n&&(r=n,n=null);return function t(n,r,i){return e(n,r,(function(e){!e||"EMFILE"!==e.code&&"ENFILE"!==e.code?("function"==typeof i&&i.apply(this,arguments),h()):p([t,[n,r,i]])}))}(t,n,r)};var n=t.writeFile;t.writeFile=function(t,e,r,i){"function"==typeof r&&(i=r,r=null);return function t(e,r,i,o){return n(e,r,i,(function(n){!n||"EMFILE"!==n.code&&"ENFILE"!==n.code?("function"==typeof o&&o.apply(this,arguments),h()):p([t,[e,r,i,o]])}))}(t,e,r,i)};var r=t.appendFile;r&&(t.appendFile=function(t,e,n,i){"function"==typeof n&&(i=n,n=null);return function t(e,n,i,o){return r(e,n,i,(function(r){!r||"EMFILE"!==r.code&&"ENFILE"!==r.code?("function"==typeof o&&o.apply(this,arguments),h()):p([t,[e,n,i,o]])}))}(t,e,n,i)});var c=t.readdir;function s(e){return c.apply(t,e)}if(t.readdir=function(t,e,n){var r=[t];"function"!=typeof e?r.push(e):n=e;return r.push((function(t,e){e&&e.sort&&e.sort();!t||"EMFILE"!==t.code&&"ENFILE"!==t.code?("function"==typeof n&&n.apply(this,arguments),h()):p([s,[r]])})),s(r)},"v0.8"===process.version.substr(0,4)){var u=o(t);l=u.ReadStream,y=u.WriteStream}var a=t.ReadStream;a&&(l.prototype=Object.create(a.prototype),l.prototype.open=function(){var t=this;S(t.path,t.flags,t.mode,(function(e,n){e?(t.autoClose&&t.destroy(),t.emit("error",e)):(t.fd=n,t.emit("open",n),t.read())}))});var f=t.WriteStream;function l(t,e){return this instanceof l?(a.apply(this,arguments),this):l.apply(Object.create(l.prototype),arguments)}function y(t,e){return this instanceof y?(f.apply(this,arguments),this):y.apply(Object.create(y.prototype),arguments)}f&&(y.prototype=Object.create(f.prototype),y.prototype.open=function(){var t=this;S(t.path,t.flags,t.mode,(function(e,n){e?(t.destroy(),t.emit("error",e)):(t.fd=n,t.emit("open",n))}))}),t.ReadStream=l,t.WriteStream=y;var m=t.open;function S(t,e,n,r){return"function"==typeof n&&(r=n,n=null),function t(e,n,r,i){return m(e,n,r,(function(o,c){!o||"EMFILE"!==o.code&&"ENFILE"!==o.code?("function"==typeof i&&i.apply(this,arguments),h()):p([t,[e,n,r,i]])}))}(t,e,n,r)}return t.open=S,t}function p(t){l("ENQUEUE",t[0].name,t[1]),s.push(t)}function h(){var t=s.shift();t&&(l("RETRY",t[0].name,t[1]),t[0].apply(null,t[1]))}u.debuglog?l=u.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(l=function(){var t=u.format.apply(u,arguments);t="GFS4: "+t.split(/\n/).join("\nGFS4: "),console.error(t)}),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",(function(){l(s),n(11).equal(s.length,0)})),t.exports=d(c(r)),process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!r.__patched&&(t.exports=d(r),r.__patched=!0),t.exports.close=(a=r.close,function(t,e){return a.call(r,t,(function(t){t||h(),"function"==typeof e&&e.apply(this,arguments)}))}),t.exports.closeSync=(f=r.closeSync,function(t){var e=f.apply(r,arguments);return h(),e}),/\bgraceful-fs\b/.test(r.closeSync.toString())||(r.closeSync=t.exports.closeSync,r.close=t.exports.close)},function(t,e,n){var r=n(14),i=process.cwd,o=null,c=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return o||(o=i.call(process)),o};try{process.cwd()}catch(t){}var s=process.chdir;process.chdir=function(t){o=null,s.call(process,t)},t.exports=function(t){r.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&function(t){t.lchmod=function(e,n,i){t.open(e,r.O_WRONLY|r.O_SYMLINK,n,(function(e,r){e?i&&i(e):t.fchmod(r,n,(function(e){t.close(r,(function(t){i&&i(e||t)}))}))}))},t.lchmodSync=function(e,n){var i,o=t.openSync(e,r.O_WRONLY|r.O_SYMLINK,n),c=!0;try{i=t.fchmodSync(o,n),c=!1}finally{if(c)try{t.closeSync(o)}catch(t){}else t.closeSync(o)}return i}}(t);t.lutimes||function(t){r.hasOwnProperty("O_SYMLINK")?(t.lutimes=function(e,n,i,o){t.open(e,r.O_SYMLINK,(function(e,r){e?o&&o(e):t.futimes(r,n,i,(function(e){t.close(r,(function(t){o&&o(e||t)}))}))}))},t.lutimesSync=function(e,n,i){var o,c=t.openSync(e,r.O_SYMLINK),s=!0;try{o=t.futimesSync(c,n,i),s=!1}finally{if(s)try{t.closeSync(c)}catch(t){}else t.closeSync(c)}return o}):(t.lutimes=function(t,e,n,r){r&&process.nextTick(r)},t.lutimesSync=function(){})}(t);t.chown=o(t.chown),t.fchown=o(t.fchown),t.lchown=o(t.lchown),t.chmod=n(t.chmod),t.fchmod=n(t.fchmod),t.lchmod=n(t.lchmod),t.chownSync=s(t.chownSync),t.fchownSync=s(t.fchownSync),t.lchownSync=s(t.lchownSync),t.chmodSync=i(t.chmodSync),t.fchmodSync=i(t.fchmodSync),t.lchmodSync=i(t.lchmodSync),t.stat=u(t.stat),t.fstat=u(t.fstat),t.lstat=u(t.lstat),t.statSync=a(t.statSync),t.fstatSync=a(t.fstatSync),t.lstatSync=a(t.lstatSync),t.lchmod||(t.lchmod=function(t,e,n){n&&process.nextTick(n)},t.lchmodSync=function(){});t.lchown||(t.lchown=function(t,e,n,r){r&&process.nextTick(r)},t.lchownSync=function(){});"win32"===c&&(t.rename=(e=t.rename,function(n,r,i){var o=Date.now(),c=0;e(n,r,(function s(u){if(u&&("EACCES"===u.code||"EPERM"===u.code)&&Date.now()-o<6e4)return setTimeout((function(){t.stat(r,(function(t,o){t&&"ENOENT"===t.code?e(n,r,s):i(u)}))}),c),void(c<100&&(c+=10));i&&i(u)}))}));var e;function n(e){return e?function(n,r,i){return e.call(t,n,r,(function(t){f(t)&&(t=null),i&&i.apply(this,arguments)}))}:e}function i(e){return e?function(n,r){try{return e.call(t,n,r)}catch(t){if(!f(t))throw t}}:e}function o(e){return e?function(n,r,i,o){return e.call(t,n,r,i,(function(t){f(t)&&(t=null),o&&o.apply(this,arguments)}))}:e}function s(e){return e?function(n,r,i){try{return e.call(t,n,r,i)}catch(t){if(!f(t))throw t}}:e}function u(e){return e?function(n,r,i){function o(t,e){e&&(e.uid<0&&(e.uid+=4294967296),e.gid<0&&(e.gid+=4294967296)),i&&i.apply(this,arguments)}return"function"==typeof r&&(i=r,r=null),r?e.call(t,n,r,o):e.call(t,n,o)}:e}function a(e){return e?function(n,r){var i=r?e.call(t,n,r):e.call(t,n);return i.uid<0&&(i.uid+=4294967296),i.gid<0&&(i.gid+=4294967296),i}:e}function f(t){return!t||("ENOSYS"===t.code||!(process.getuid&&0===process.getuid()||"EINVAL"!==t.code&&"EPERM"!==t.code))}t.read=(d=t.read,function(e,n,r,i,o,c){var s;if(c&&"function"==typeof c){var u=0;s=function(a,f,l){if(a&&"EAGAIN"===a.code&&u<10)return u++,d.call(t,e,n,r,i,o,s);c.apply(this,arguments)}}return d.call(t,e,n,r,i,o,s)}),t.readSync=(l=t.readSync,function(e,n,r,i,o){for(var c=0;;)try{return l.call(t,e,n,r,i,o)}catch(t){if("EAGAIN"===t.code&&c<10){c++;continue}throw t}});var l;var d}},function(t,e,n){var r=n(15).Stream;t.exports=function(t){return{ReadStream:function e(n,i){if(!(this instanceof e))return new e(n,i);r.call(this);var o=this;this.path=n,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=65536,i=i||{};for(var c=Object.keys(i),s=0,u=c.length;s<u;s++){var a=c[s];this[a]=i[a]}this.encoding&&this.setEncoding(this.encoding);if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(void 0===this.end)this.end=1/0;else if("number"!=typeof this.end)throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(null!==this.fd)return void process.nextTick((function(){o._read()}));t.open(this.path,this.flags,this.mode,(function(t,e){if(t)return o.emit("error",t),void(o.readable=!1);o.fd=e,o.emit("open",e),o._read()}))},WriteStream:function e(n,i){if(!(this instanceof e))return new e(n,i);r.call(this),this.path=n,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,i=i||{};for(var o=Object.keys(i),c=0,s=o.length;c<s;c++){var u=o[c];this[u]=i[u]}if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],null===this.fd&&(this._open=t.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}}},function(t,e,n){"use strict";t.exports=function(t){if(null===t||"object"!=typeof t)return t;if(t instanceof Object)var e={__proto__:t.__proto__};else e=Object.create(null);return Object.getOwnPropertyNames(t).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}},function(t,e,n){"use strict";const r=n(0),i=n(3),o=n(4).pathExists,c=n(12);t.exports=function(t,e,n,s){"function"==typeof n&&(s=n,n={});const u=r.dirname(t);o(u,(r,o)=>r?s(r):o?c.writeJson(t,e,n,s):void i.mkdirs(u,r=>{if(r)return s(r);c.writeJson(t,e,n,s)}))}},function(t,e,n){"use strict";const r=n(1),i=n(0),o=n(3),c=n(12);t.exports=function(t,e,n){const s=i.dirname(t);r.existsSync(s)||o.mkdirsSync(s),c.writeJsonSync(t,e,n)}},function(t,e,n){"use strict";t.exports={moveSync:n(52)}},function(t,e,n){"use strict";const r=n(1),i=n(0),o=n(16).copySync,c=n(8).removeSync,s=n(3).mkdirpSync,u=n(7);function a(t,e,n){try{r.renameSync(t,e)}catch(r){if("EXDEV"!==r.code)throw r;return function(t,e,n){return o(t,e,{overwrite:n,errorOnExist:true}),c(t)}(t,e,n)}}t.exports=function(t,e,n){const o=(n=n||{}).overwrite||n.clobber||!1,{srcStat:f}=u.checkPathsSync(t,e,"move");return u.checkParentPathsSync(t,f,e,"move"),s(i.dirname(e)),function(t,e,n){if(n)return c(e),a(t,e,n);if(r.existsSync(e))throw new Error("dest already exists.");return a(t,e,n)}(t,e,o)}},function(t,e,n){"use strict";const r=n(2).fromCallback;t.exports={move:r(n(54))}},function(t,e,n){"use strict";const r=n(1),i=n(0),o=n(19).copy,c=n(8).remove,s=n(3).mkdirp,u=n(4).pathExists,a=n(7);function f(t,e,n,i){r.rename(t,e,r=>r?"EXDEV"!==r.code?i(r):function(t,e,n,r){o(t,e,{overwrite:n,errorOnExist:!0},e=>e?r(e):c(t,r))}(t,e,n,i):i())}t.exports=function(t,e,n,r){"function"==typeof n&&(r=n,n={});const o=n.overwrite||n.clobber||!1;a.checkPaths(t,e,"move",(n,l)=>{if(n)return r(n);const{srcStat:d}=l;a.checkParentPaths(t,d,e,"move",n=>{if(n)return r(n);s(i.dirname(e),n=>n?r(n):function(t,e,n,r){if(n)return c(e,i=>i?r(i):f(t,e,n,r));u(e,(i,o)=>i?r(i):o?r(new Error("dest already exists.")):f(t,e,n,r))}(t,e,o,r))})})}},function(t,e,n){"use strict";const r=n(2).fromCallback,i=n(1),o=n(0),c=n(3),s=n(4).pathExists;t.exports={outputFile:r((function(t,e,n,r){"function"==typeof n&&(r=n,n="utf8");const u=o.dirname(t);s(u,(o,s)=>o?r(o):s?i.writeFile(t,e,n,r):void c.mkdirs(u,o=>{if(o)return r(o);i.writeFile(t,e,n,r)}))})),outputFileSync:function(t,...e){const n=o.dirname(t);if(i.existsSync(n))return i.writeFileSync(t,...e);c.mkdirsSync(n),i.writeFileSync(t,...e)}}},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function c(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(c,s)}u((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0});const i=n(6),o=n(10);e.default=class{constructor(){this.launchPreviewDerectionYml=(t=0)=>r(this,void 0,void 0,(function*(){const e=t=>r(this,void 0,void 0,(function*(){if(t<0)return;const n=yield i.commands.getCommands(!0);n.some(t=>"preview.derectionYml"===t)?yield i.commands.executeCommand("preview.derectionYml"):(yield o.sleep(1e3),e(t-1))}));e(t)}))}}}]));